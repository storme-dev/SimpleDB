# SimpleDB
Простая в использовании база данных для ваших тестовых проектов.Не требует установки дополнительных модулей

## Установка

1. Скачиваем db.js файл из репозитория
2. Размещаем его в любую папку вашего проекта
3. Подключаем модуль require('./db')

## С чего начать

### Подключение модуля
```js
const { SimpleDB } = require('./db')
```

### Создание базы данных

На примере ниже мы создаём либо загружаем базу данных с именем dbname.
При создании базы данных мы сразу задаём её структуру.В данном случае мы создаём таблицу users с полями id,name,age
Если мы указываем 'AUTO_INCREMENT' значит значение этого поля будет автоматически увеличиваться на 1 при добавлении записи
Также мы указываем значения по умолчанию для полей name,age

**Внимание!При удалении или добавлении полей таблиц, все записи в БД обновляются с учётом изменений.**
**Например, если добавляем новое поле, то во всех записях это поле будет, и оно будет иметь значение по умолчанию**
```js
const db = new SimpleDB('dbname', {
    users: {
        id: 'AUTO_INCREMENT',
        name: '',
        age: 18
    }
})
```

### Добавление записей в таблицу

Теперь мы можем создать нового пользователя(т.е. добавить запись в таблицу users)
В таблицу users добавится объект { id: 0, name: 'Alex', age: 18 }, т.к. значение age по умолчанию 18
```js
db.insert('users', {
    id: 0,
    name: 'Alex'
})
```

### Поиск по записям таблицы

В SimpleDB поиск по записям простой, но при этом максимально функциональный.
На примере ниже в массив array запишутся все объекты, у которых поле name равно Alex.
При этом у объектов будут только поля id и name
```js
let array = db.select('users', ['id', 'name'], user => {
    if(user.name == 'Alex') return true
})
```

Если хотите, чтобы отбирались все поля, используйте:
```js
let array = db.findAll('users)
```

### Изменение записей таблицы

На примере ниже мы изменяем поле name на AlexChanged у всех записей таблицы, у который поле name = Alex

```js
db.update('users', { name: 'AlexChanged' }, user => {
    if(user.name == 'Alex') return true
})
```

### Удаление записи из таблицы
На примере ниже мы удаляем все записи таблицы, у которых поле name = Alex

```js
db.delete('users', user => {
    if(user.name == 'Alex') return true
})
```

### Удаление таблицы
На примере ниже мы удаляем всю таблицу.Все данные из этой таблицы тоже удалятся

```js
db.dropTable('users')
```
